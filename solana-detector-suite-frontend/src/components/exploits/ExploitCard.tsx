
import { Card } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { ArrowRight } from "lucide-react";
import { Link } from "react-router-dom";
import { cn } from "@/lib/utils";

type ExploitCardProps = {
  id: string;
  title: string;
  date: string;
  protocol: string;
  amount: string;
  description: string;
  category: string;
  severity: 'critical' | 'high' | 'medium' | 'low';
};

export default function ExploitCard({
  id,
  title,
  date,
  protocol,
  amount,
  description,
  category,
  severity,
}: ExploitCardProps) {
  
  const severityColors = {
    critical: "bg-severity-critical text-white",
    high: "bg-severity-high text-white",
    medium: "bg-severity-medium text-navy",
    low: "bg-severity-low text-navy",
  };
  
  return (
    <Card className="overflow-hidden">
      <div className="flex flex-col h-full">
        <div className="p-6 card-gradient">
          <div className="flex justify-between items-start mb-4">
            <Badge className={cn("font-medium", severityColors[severity])}>
              {severity.charAt(0).toUpperCase() + severity.slice(1)}
            </Badge>
            <span className="text-sm text-muted-foreground">{date}</span>
          </div>
          
          <h3 className="text-lg font-semibold mb-2">{title}</h3>
          
          <div className="flex flex-wrap gap-2 mb-3">
            <Badge variant="outline" className="bg-transparent">
              {protocol}
            </Badge>
            <Badge variant="outline" className="bg-transparent">
              {category}
            </Badge>
          </div>
          
          <p className="text-sm text-muted-foreground mb-3">{description}</p>
          
          <div className="flex items-center justify-between mt-4">
            <div>
              <p className="text-xs text-muted-foreground">Funds lost</p>
              <p className="font-semibold">{amount}</p>
            </div>
            
            <Link 
              to={`/exploits/${id}`}
              className="text-sm text-purple hover:text-purple-light flex items-center gap-1"
            >
              View Details
              <ArrowRight size={14} />
            </Link>
          </div>
        </div>
      </div>
    </Card>
  );
}
